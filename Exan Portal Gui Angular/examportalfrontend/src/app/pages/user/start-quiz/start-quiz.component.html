<div class="container-fluid" *ngIf="!isSubmitted">
    <div class="row">
        <div class="col-md-2">
            <mat-card class="fix-margin">
                <h2> <strong>Instructions</strong></h2>
                <mat-card-content>
                    <ul>
                        <li>Do not refresh the page otherwise quiz automatically submitted.</li>
                        <li>Keep your internet connection at high-performance</li>
                        <li>Do not minimize window size</li>
                    </ul>
                </mat-card-content>
            </mat-card>

        </div>
        <div class="col-md-8">
            <ng-container *ngIf="questions.length !=0">
                <h1 class="mt-2 text-center text-muted">Your Ongoing Quiz <strong>{{questions[0].quiz.title}}</strong></h1>
                <mat-card class="mt-3" *ngFor="let question of questions;let i = index">
                    <mat-card-content>
                        <h4> <strong>Q{{i+1}}) </strong> <span [innerHTML]="question.content"></span> </h4>
                        <mat-divider></mat-divider>
                        <div class="row">
                            <div class="col-md-6 mt-3">
                                <input type='radio' [value]="question.option1" [name]="i" [(ngModel)]="question.givenAnswer"> {{question.option1}}
                            </div>
                            <div class="col-md-6 mt-3">
                                <input type='radio' [value]="question.option2" [name]="i" [(ngModel)]="question.givenAnswer"> {{question.option2}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mt-3">
                                <input type='radio' [value]="question.option3" [name]="i" [(ngModel)]="question.givenAnswer"> {{question.option3}}
                            </div>
                            <div class="col-md-6 mt-3">
                                <input type='radio' [value]="question.option4" [name]="i" [(ngModel)]="question.givenAnswer"> {{question.option4}}
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
                <div class="container text-center mt-3">
                    <button mat-raised-button (click)="submitQuiz()" color="primary">Submit</button>
                </div>
            </ng-container>
        </div>
        <div class="col-md-2">
            <mat-card class="fix-margin">
                <mat-card-header>
                    <mat-card-title>
                        Time Remaining</mat-card-title>
                    <mat-card-subtitle>Quiz will automatically submitted. when time is <strong>0:0</strong></mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <h2 class="text-center">{{getFormttedTime()}}</h2>
                    <mat-spinner mode="determinate" [value]="(timer/(this.questions.length * 2 * 60))*100" class="center-align"></mat-spinner>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>

<!-- for showing result -->
<div class="container-fluid" *ngIf="isSubmitted">
    <div class="row text-center">
        <div class="col-md-6 offset-md-3">
            <mat-card>
                <mat-divider></mat-divider>
                <h1 class="mt-3"> <strong>Your Result</strong></h1>
                <mat-divider></mat-divider>
                <mat-card-content>
                    <div class="cotainer mt-3">
                        <h2>Total Marks : {{marksGot}}</h2>
                        <h2>Correct Answers : {{correctAnswer}}</h2>
                        <h2>Attempted : {{attempted}}</h2>
                    </div>
                </mat-card-content>
                <mat-card-actions>
                    <div class="container text-center">
                        <button routerLink="/user-dashboard/0" mat-raised-button color="accent">Home</button>
                    </div>
                </mat-card-actions>
            </mat-card>
        </div>
    </div>
</div>
